<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Airconekta ¬∑ Centro de Solicitudes</title>

  <meta name="theme-color" content="#0b1220" />
  <meta name="color-scheme" content="light dark" />
  <meta
    name="description"
    content="Centro de solicitudes Airconekta: Instalaci√≥n, Cambio de domicilio y Cancelaci√≥n. Env√≠o por WhatsApp con formato listo."
  />

  <!-- ========================= LOGOS / ICONOS ========================= -->
  <link
    rel="icon"
    type="image/png"
    href="https://raw.githubusercontent.com/airconekta/airconekta/refs/heads/main/airconekta_logo_512.png"
  />
  <link
    rel="apple-touch-icon"
    href="https://raw.githubusercontent.com/airconekta/airconekta/refs/heads/main/airconekta_logo_512.png"
  />

  <!-- (Compartir en redes) -->
  <meta property="og:title" content="Airconekta ¬∑ Centro de Solicitudes" />
  <meta
    property="og:description"
    content="Instalaci√≥n, Cambio de domicilio y Cancelaci√≥n. Env√≠o por WhatsApp con formato listo."
  />
  <meta
    property="og:image"
    content="https://raw.githubusercontent.com/airconekta/airconekta/refs/heads/main/airconekta_logo_1024.png"
  />
  <meta name="twitter:card" content="summary_large_image" />

  <!--
    ===========================================================
    Firma (solo visible al ver c√≥digo fuente / inspecci√≥n)
    Jair Elizondo
    322 243 9782
    Tip: agrega #whoami al final de la URL para mostrarlo en consola.
    Ej: https://menu.airconekta.com/#whoami
    ===========================================================
  -->

  <style>
    /* ========================= Airconekta UI 2026 ========================= */
    :root{
      --bg: #f6f8ff;
      --card: rgba(255,255,255,.78);
      --card-solid:#ffffff;
      --ink: #0f1a2e;
      --muted:#5b6b86;
      --accent:#246bff;
      --accent-2:#18c6ff;
      --accent-3:#7c3aed;
      --border: rgba(207,224,255,.85);
      --border-2: rgba(255,255,255,.55);
      --ok:#16a34a;
      --warn:#b45309;
      --radius: 18px;
      --radius-2: 22px;
      --shadow: 0 14px 40px rgba(16,48,96,.12);
      --shadow-2: 0 18px 60px rgba(16,48,96,.16);
      --ring: 0 0 0 4px rgba(36,107,255,.16);
      --maxw: 1040px;

      /* URLs de logos */
      --logo-1024: url("https://raw.githubusercontent.com/airconekta/airconekta/refs/heads/main/airconekta_logo_1024.png");
      --logo-512: url("https://raw.githubusercontent.com/airconekta/airconekta/refs/heads/main/airconekta_logo_512.png");
      --logo-trans: url("https://raw.githubusercontent.com/airconekta/airconekta/refs/heads/main/airconekta_logo_transparent.png");
    }

    /* Dark mode tokens */
    :root[data-theme="dark"]{
      --bg: #070b14;
      --card: rgba(12,18,34,.72);
      --card-solid:#0b1220;
      --ink: #e9eefc;
      --muted:#a9b6d6;
      --border: rgba(60,86,140,.35);
      --border-2: rgba(255,255,255,.08);
      --shadow: 0 18px 60px rgba(0,0,0,.45);
      --shadow-2: 0 28px 90px rgba(0,0,0,.55);
      --ring: 0 0 0 4px rgba(24,198,255,.18);
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }

    body{
      margin:0;
      font:16px/1.4 system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;
      color:var(--ink);
      background:
        radial-gradient(900px 500px at 10% -10%, rgba(36,107,255,.18), transparent 60%),
        radial-gradient(900px 500px at 110% 10%, rgba(24,198,255,.14), transparent 55%),
        radial-gradient(900px 500px at 50% 115%, rgba(124,58,237,.12), transparent 60%),
        var(--bg);
      overflow-x:hidden;
    }

    /* Subtle grid texture */
    body::before{
      content:"";
      position:fixed;
      inset:0;
      background-image:
        linear-gradient(to right, rgba(255,255,255,.06) 1px, transparent 1px),
        linear-gradient(to bottom, rgba(255,255,255,.06) 1px, transparent 1px);
      background-size: 38px 38px;
      opacity: .25;
      pointer-events:none;
      mix-blend-mode: overlay;
    }

    :root[data-theme="dark"] body::before{ opacity:.10; }
    a{ color:inherit; }

    .shell{
      max-width:var(--maxw);
      margin:0 auto;
      padding:24px;
      position:relative;
    }

    /* ========================= Splash Screen ========================= */
    .splash{
      position:fixed;
      inset:0;
      display:grid;
      place-items:center;
      background:
        radial-gradient(900px 520px at 20% 15%, rgba(36,107,255,.28), transparent 60%),
        radial-gradient(900px 520px at 85% 25%, rgba(24,198,255,.22), transparent 55%),
        radial-gradient(900px 520px at 45% 100%, rgba(124,58,237,.18), transparent 60%),
        linear-gradient(180deg, #070b14, #0b1220);
      z-index:9999;
      transition: opacity .35s ease, transform .35s ease, visibility .35s ease;
    }
    .splash.hide{
      opacity:0;
      transform: translateY(-6px);
      visibility:hidden;
      pointer-events:none;
    }
    .splash-card{
      width:min(92vw, 560px);
      border-radius: 28px;
      padding: 28px 22px;
      text-align:center;
      color:#eaf2ff;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(10,16,30,.55);
      box-shadow: 0 30px 90px rgba(0,0,0,.6);
      backdrop-filter: blur(14px) saturate(120%);
    }
    .splash-logo{
      width: 88px;
      height: 88px;
      margin: 0 auto 10px;
      border-radius: 26px;
      display:grid;
      place-items:center;
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.12);
      position:relative;
      overflow:hidden;
    }
    .splash-logo::before{
      content:"";
      position:absolute;
      inset:-40%;
      background: conic-gradient(
        from 0deg,
        rgba(36,107,255,.0),
        rgba(36,107,255,.6),
        rgba(24,198,255,.55),
        rgba(124,58,237,.55),
        rgba(36,107,255,.0)
      );
      animation: spin 2.4s linear infinite;
      opacity:.9;
    }
    .splash-logo .logo-img{
      position:relative;
      width: 62px;
      height: 62px;
      border-radius: 22px;
      display:block;
      background: rgba(11,18,32,.92);
      border:1px solid rgba(255,255,255,.12);
      object-fit: contain;
      padding: 10px;
    }
    .splash-title{
      font-weight: 1000;
      letter-spacing: .6px;
      font-size: clamp(2.0rem, 4.2vw, 3.0rem);
      margin: 8px 0 6px;
    }
    .splash-sub{
      margin: 0;
      color: rgba(233,238,252,.78);
      font-weight: 700;
    }
    .splash-bar{
      height: 10px;
      margin: 16px auto 0;
      border-radius: 999px;
      width: min(380px, 82%);
      background: rgba(255,255,255,.08);
      border: 1px solid rgba(255,255,255,.10);
      overflow:hidden;
    }
    .splash-bar > i{
      display:block;
      height:100%;
      width: 40%;
      background: linear-gradient(90deg, rgba(36,107,255,.15), rgba(36,107,255,.85), rgba(24,198,255,.85));
      border-radius: 999px;
      animation: load 1.1s ease-in-out infinite;
      filter: drop-shadow(0 6px 14px rgba(36,107,255,.20));
    }

    @keyframes load{
      0%{ transform: translateX(-30%); opacity:.65; }
      50%{ transform: translateX(120%); opacity:1; }
      100%{ transform: translateX(260%); opacity:.65; }
    }
    @keyframes spin{ to{ transform: rotate(360deg);} }

    @media (prefers-reduced-motion: reduce){
      .splash-logo::before, .splash-bar > i{ animation:none !important; }
      .splash{ transition:none; }
    }

    /* ========================= Top nav ========================= */
    .nav{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      padding:14px 16px;
      border-radius: 22px;
      border:1px solid var(--border);
      background: var(--card);
      box-shadow: var(--shadow);
      position:sticky;
      top:12px;
      backdrop-filter: blur(14px) saturate(140%);
      z-index:10;
    }
    .brand{
      display:flex;
      gap:12px;
      align-items:center;
      font-weight: 1000;
      letter-spacing: .2px;
    }
    .logo{
      width: 40px;
      height: 40px;
      border-radius: 14px;
      display:grid;
      place-items:center;
      background: linear-gradient(135deg, rgba(36,107,255,.18), rgba(24,198,255,.14));
      border:1px solid var(--border-2);
      box-shadow: 0 10px 26px rgba(16,48,96,.10);
      position:relative;
      overflow:hidden;
    }
    .logo::before{
      content:"";
      position:absolute;
      inset:-40%;
      background: conic-gradient(
        from 0deg,
        rgba(36,107,255,.0),
        rgba(36,107,255,.55),
        rgba(24,198,255,.55),
        rgba(124,58,237,.55),
        rgba(36,107,255,.0)
      );
      opacity:.55;
      animation: spin 6.5s linear infinite;
    }
    .logo .logo-img{
      position:relative;
      width: 26px;
      height: 26px;
      display:block;
      object-fit: contain;
      filter: drop-shadow(0 6px 10px rgba(0,0,0,.18));
    }
    .brand small{
      display:block;
      font-weight:800;
      color:var(--muted);
      letter-spacing:0;
      margin-top:2px;
    }
    .inline{
      display:flex;
      align-items:center;
      gap:10px;
      flex-wrap:wrap;
      justify-content:flex-end;
    }

    /* ========================= Cards / typography ========================= */
    .card{
      margin-top:18px;
      padding:22px;
      border-radius: 26px;
      border:1px solid var(--border);
      background: var(--card);
      box-shadow: var(--shadow);
      backdrop-filter: blur(14px) saturate(140%);
    }
    h1{ font-size:1.6rem; margin:0 0 6px; letter-spacing:.2px; }
    h2{ font-size:1.15rem; margin:0 0 10px; }
    .lead{ color:var(--muted); margin:0 0 14px; }

    /* ========================= Buttons ========================= */
    .btn{
      appearance:none;
      cursor:pointer;
      user-select:none;
      border:1px solid rgba(36,107,255,.65);
      color:var(--ink);
      background: rgba(255,255,255,.55);
      padding:12px 14px;
      border-radius: 14px;
      font-weight: 900;
      letter-spacing:.2px;
      transition: transform .08s ease, box-shadow .15s ease, background .15s ease, border-color .15s ease;
      text-decoration:none;
      display:inline-flex;
      align-items:center;
      gap:8px;
      line-height:1;
      backdrop-filter: blur(12px) saturate(120%);
    }
    :root[data-theme="dark"] .btn{ background: rgba(255,255,255,.06); }
    .btn:hover{ box-shadow: var(--ring); border-color: rgba(36,107,255,.95); }
    .btn:active{ transform: translateY(1px); }
    .btn:focus-visible{ outline:none; box-shadow: var(--ring); }

    .btn-primary{
      color:#fff;
      border-color: transparent;
      background: linear-gradient(135deg, var(--accent), var(--accent-2));
      box-shadow: 0 12px 26px rgba(36,107,255,.22);
    }
    .btn-primary:hover{
      box-shadow: 0 0 0 4px rgba(24,198,255,.18), 0 18px 46px rgba(36,107,255,.20);
    }
    .btn-ghost{
      border-color: var(--border);
      color: var(--ink);
      background: transparent;
    }
    .btn-ghost:hover{ box-shadow: 0 0 0 4px rgba(207,224,255,.35); }

    .btn-icon{
      width: 44px;
      height: 44px;
      padding: 0;
      border-radius: 14px;
      justify-content:center;
    }

    .status{ font-size:.92rem; color:var(--muted); }

    .pill{
      display:inline-flex;
      align-items:center;
      gap:8px;
      font-size:.9rem;
      padding:8px 10px;
      border-radius:999px;
      border:1px solid var(--border);
      background: rgba(255,255,255,.45);
      color:var(--muted);
      backdrop-filter: blur(12px) saturate(120%);
    }
    :root[data-theme="dark"] .pill{ background: rgba(255,255,255,.05); }

    .grid{
      display:grid;
      grid-template-columns:repeat(12,1fr);
      gap:14px;
    }
    .col-12{ grid-column:span 12; }
    .col-6{ grid-column:span 6; }
    .col-4{ grid-column:span 4; }

    @media (max-width:860px){
      .col-6,.col-4{ grid-column:span 12; }
      .shell{ padding:16px; }
      .nav{ top:10px; }
    }

    label{ display:block; font-size:.92rem; color:var(--muted); margin:4px 0 6px; }

    input,select,textarea{
      width:100%;
      padding:12px 14px;
      border-radius: 14px;
      border:1px solid var(--border);
      background: rgba(255,255,255,.55);
      color: var(--ink);
      outline:none;
      transition: border .15s ease, box-shadow .15s ease, transform .06s ease, background .15s ease;
      font:inherit;
      resize:vertical;
      backdrop-filter: blur(12px) saturate(120%);
    }

    :root[data-theme="dark"] input,
    :root[data-theme="dark"] select,
    :root[data-theme="dark"] textarea{
      background: rgba(255,255,255,.05);
    }

    input:focus,select:focus,textarea:focus{
      border-color: rgba(24,198,255,.75);
      box-shadow: var(--ring);
    }

    input:active,select:active,textarea:active{ transform: translateY(.5px); }

    .divider{ height:1px; background: rgba(207,224,255,.55); margin:14px 0; }
    :root[data-theme="dark"] .divider{ background: rgba(60,86,140,.35); }

    /* option cards */
    .option-cards{
      display:grid;
      grid-template-columns:repeat(3, 1fr);
      gap:12px;
      margin-top:10px;
    }
    @media (max-width:860px){
      .option-cards{ grid-template-columns:1fr; }
    }

    .opt{
      border:1px solid var(--border);
      border-radius: 20px;
      padding:14px;
      background: rgba(255,255,255,.55);
      box-shadow: 0 12px 30px rgba(16,48,96,.08);
      cursor:pointer;
      text-align:left;
      transition: transform .10s ease, box-shadow .15s ease, border-color .15s ease;
      backdrop-filter: blur(14px) saturate(140%);
    }
    :root[data-theme="dark"] .opt{ background: rgba(255,255,255,.04); }
    .opt:hover{
      box-shadow: var(--shadow);
      border-color: rgba(24,198,255,.55);
      transform: translateY(-1px);
    }
    .opt:active{ transform: translateY(0px); }
    .opt:focus-visible{ outline:none; box-shadow: var(--ring); }
    .opt .title{ font-weight: 1000; font-size:1.05rem; margin:0; }
    .opt .desc{ margin:6px 0 0; color:var(--muted); font-size:.95rem; }

    .info{
      margin-top:14px;
      border:1px solid var(--border);
      border-radius: 20px;
      padding:14px;
      background: rgba(255,255,255,.52);
      backdrop-filter: blur(14px) saturate(140%);
    }
    :root[data-theme="dark"] .info{ background: rgba(255,255,255,.04); }

    .info .headline{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      flex-wrap:wrap;
      margin-bottom:8px;
    }

    .badge{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:8px 10px;
      border-radius:999px;
      border:1px solid rgba(22,163,74,.25);
      background: rgba(22,163,74,.10);
      color: #0f5132;
      font-weight: 1000;
      font-size:.92rem;
    }
    :root[data-theme="dark"] .badge{
      color: rgba(200,255,220,.95);
      background: rgba(22,163,74,.12);
      border-color: rgba(22,163,74,.25);
    }

    .kpoints{
      display:grid;
      grid-template-columns:repeat(12,1fr);
      gap:10px;
      margin-top:10px;
    }
    .k{
      grid-column:span 6;
      border:1px solid rgba(207,224,255,.55);
      border-radius: 18px;
      padding:12px;
      background: rgba(255,255,255,.45);
      backdrop-filter: blur(14px) saturate(140%);
    }
    :root[data-theme="dark"] .k{
      border-color: rgba(60,86,140,.35);
      background: rgba(255,255,255,.04);
    }
    .k strong{ display:block; margin-bottom:4px; font-weight:1000; }
    @media (max-width:860px){ .k{ grid-column:span 12; } }

    .plans{
      display:grid;
      grid-template-columns:repeat(3,1fr);
      gap:10px;
      margin-top:8px;
    }
    @media (max-width:860px){ .plans{ grid-template-columns:1fr; } }

    .plan{
      border:1px solid rgba(207,224,255,.55);
      border-radius: 18px;
      padding:12px;
      background: rgba(255,255,255,.45);
      backdrop-filter: blur(14px) saturate(140%);
    }
    :root[data-theme="dark"] .plan{
      border-color: rgba(60,86,140,.35);
      background: rgba(255,255,255,.04);
    }
    .plan .pname{ font-weight:1000; margin:0; }
    .plan .pdesc{ margin:6px 0 0; color:var(--muted); }
    .plan .price{
      margin-top:8px;
      font-weight: 1000;
      background: linear-gradient(90deg, var(--accent), var(--accent-2));
      -webkit-background-clip:text;
      background-clip:text;
      color: transparent;
      font-size: 1.2rem;
    }

    .toast{
      position:fixed;
      left:50%;
      bottom:24px;
      transform:translateX(-50%) translateY(16px);
      opacity:0;
      pointer-events:none;
      background: rgba(255,255,255,.65);
      color:var(--ink);
      padding:10px 14px;
      border-radius: 14px;
      border:1px solid rgba(24,198,255,.55);
      box-shadow: var(--shadow);
      transition: .18s ease;
      z-index: 999;
      max-width:min(92vw, 560px);
      text-align:center;
      font-weight: 900;
      backdrop-filter: blur(14px) saturate(140%);
    }
    :root[data-theme="dark"] .toast{ background: rgba(255,255,255,.06); }
    .toast.show{
      transform:translateX(-50%) translateY(0);
      opacity:1;
    }

    .footer{
      margin:16px 0 0;
      color:var(--muted);
      font-size:.9rem;
      display:flex;
      justify-content:space-between;
      align-items:center;
      flex-wrap:wrap;
      gap:10px;
    }

    /* Views */
    [data-view]{ display:none; }
    [data-view].active{ display:block; }

    .top-actions{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
      justify-content:space-between;
    }

    .mini-note{
      border:1px dashed rgba(207,224,255,.75);
      background: rgba(247,251,255,.55);
      border-radius: 18px;
      padding:12px;
      color:var(--muted);
      font-size:.95rem;
      backdrop-filter: blur(14px) saturate(140%);
    }
    :root[data-theme="dark"] .mini-note{
      background: rgba(255,255,255,.04);
      border-color: rgba(60,86,140,.35);
    }

    .sr-only{
      position:absolute;
      width:1px;
      height:1px;
      padding:0;
      margin:-1px;
      overflow:hidden;
      clip:rect(0,0,0,0);
      border:0;
    }
  </style>
</head>

<body>
  <!-- Splash -->
  <div class="splash" id="splash" aria-label="Cargando Airconekta">
    <div class="splash-card" role="status" aria-live="polite">
      <div class="splash-logo" aria-hidden="true">
        <img
          class="logo-img"
          alt=""
          src="https://raw.githubusercontent.com/airconekta/airconekta/refs/heads/main/airconekta_logo_transparent.png"
        />
      </div>
      <div class="splash-title">AIRCONEKTA</div>
      <p class="splash-sub">Centro de solicitudes ¬∑ Atenci√≥n local</p>
      <div class="splash-bar" aria-hidden="true"><i></i></div>
      <p class="sr-only">Cargando‚Ä¶</p>
    </div>
  </div>

  <div class="shell">
    <nav class="nav" aria-label="Barra superior">
      <div class="brand">
        <div class="logo" aria-hidden="true">
          <img
            class="logo-img"
            alt=""
            src="https://raw.githubusercontent.com/airconekta/airconekta/refs/heads/main/airconekta_logo_transparent.png"
          />
        </div>
        <div>
          Airconekta
          <small>Centro de solicitudes</small>
        </div>
      </div>

      <div class="inline">
        <button class="btn btn-ghost" id="menuBtn" type="button">‚ò∞ Ver opciones</button>
        <button class="btn btn-icon" id="themeBtn" type="button" title="Cambiar tema" aria-label="Cambiar tema">üåì</button>
        <button id="installBtn" class="btn" style="display:none" type="button">‚ûï Instalar app</button>
        <a class="btn" href="#" id="shareBtn" title="Compartir">‚á™ Compartir</a>
      </div>
    </nav>

    <!-- ===== MEN√ö PRINCIPAL ===== -->
    <section class="card active" data-view="home" id="viewHome">
      <div class="top-actions">
        <div>
          <h1>Bienvenidos a Airconekta</h1>
          <p class="lead" style="margin-bottom:0">¬øQu√© desea?</p>
        </div>
        <span class="pill">üìç Empresa local ¬∑ Atenci√≥n directa</span>
      </div>

      <div class="option-cards" style="margin-top:14px">
        <button class="opt" type="button" data-go="instalacion" aria-label="Ir a Instalaci√≥n">
          <p class="title">üõ†Ô∏è Instalaci√≥n</p>
          <p class="desc">Solicita instalaci√≥n nueva y env√≠a tus datos por WhatsApp.</p>
        </button>

        <button class="opt" type="button" data-go="cambio" aria-label="Ir a Cambio de domicilio">
          <p class="title">üè† Cambio de Domicilio</p>
          <p class="desc">Cambia tu servicio a un nuevo domicilio con fecha y hora.</p>
        </button>

        <button class="opt" type="button" data-go="cancelacion" aria-label="Ir a Cancelaci√≥n">
          <p class="title">üßæ Cancelaci√≥n</p>
          <p class="desc">Solicita cancelaci√≥n y agenda la visita de retiro.</p>
        </button>
      </div>

      <!-- ===== INFO COMERCIAL ===== -->
      <div class="info" aria-label="Puntos clave Airconekta">
        <div class="headline">
          <div class="badge">üí∏ Refiere y gana $100</div>
          <div class="status">Por cada amigo que recomiendes y contrate</div>
        </div>

        <div class="mini-note">
          üåê <strong>AIRCONEKTA</strong> ‚Äî Internet para tu hogar.
          <strong>Empresa 100% local</strong>, atenci√≥n directa y <strong>sin letras chiquitas</strong>.
        </div>

        <div class="divider"></div>

        <h2 style="margin:0 0 8px">üì∂ Planes y precios (claros y sin sorpresas)</h2>
        <div class="plans">
          <div class="plan">
            <p class="pname">Hasta 15 Mb</p>
            <p class="pdesc">Ideal para hogar y uso diario.</p>
            <div class="price">$300 MXN</div>
          </div>

          <div class="plan">
            <p class="pname">Hasta 20 Mb</p>
            <p class="pdesc">M√°s velocidad para varios equipos.</p>
            <div class="price">$400 MXN</div>
          </div>

          <div class="plan">
            <p class="pname">Hasta 25 Mb</p>
            <p class="pdesc">Para quienes quieren extra rendimiento.</p>
            <div class="price">$600 MXN</div>
          </div>
        </div>

        <div class="divider"></div>

        <h2 style="margin:0 0 8px">üéÅ Beneficios reales</h2>
        <div class="kpoints">
          <div class="k"><strong>‚úÖ Primer mes GRATIS</strong><span class="status">Empieza a usar el servicio desde el primer d√≠a.</span></div>
          <div class="k"><strong>‚úÖ SIN contratos forzosos</strong><span class="status">Te quedas porque te gusta el servicio.</span></div>
          <div class="k"><strong>‚úÖ SIN aumentos inesperados</strong><span class="status">Pagas siempre lo mismo, sin sorpresas.</span></div>
          <div class="k"><strong>‚úÖ Consumo ILIMITADO</strong><span class="status">Disfruta sin preocuparte por ‚Äútopes‚Äù.</span></div>
          <div class="k"><strong>‚úÖ Soporte t√©cnico local</strong><span class="status">R√°pido, confiable y de frente.</span></div>
          <div class="k"><strong>üîß Instalaci√≥n: $999 MXN</strong><span class="status">Pago √∫nico (una sola vez).</span></div>
        </div>

        <div class="divider"></div>

        <div class="mini-note">
          ü§ù <strong>Somos una empresa local, no call center ni franquicia:</strong> te atendemos directo, r√°pido y de frente.
        </div>
      </div>

      <div class="footer">
        <span>¬© <span id="year"></span> Airconekta</span>
        <span style="opacity:.85">Hecho con ‚ö° para clientes felices</span>
      </div>
    </section>

    <!-- ===== INSTALACI√ìN ===== -->
    <section class="card" data-view="instalacion" id="viewInstalacion">
      <div class="top-actions">
        <div>
          <h1>Solicitar instalaci√≥n</h1>
          <p class="lead">
            Completa tus datos. La ubicaci√≥n es <strong>opcional</strong>.
            Al final se abrir√° WhatsApp con tu informaci√≥n formateada.
          </p>
        </div>
        <button class="btn btn-ghost" type="button" data-back>‚Üê Volver</button>
      </div>

      <form id="formInstalacion" class="grid" novalidate>
        <input type="hidden" id="i_colonia" name="colonia" />

        <div class="col-12">
          <label for="i_coloniaSelect">Colonia (opcional)</label>
          <select id="i_coloniaSelect" name="coloniaSelect">
            <option value="" selected>Selecciona una colonia‚Ä¶</option>
            <option>‚öíÔ∏è El Canton, JAL</option>
            <option>‚öíÔ∏è Fracc. Ex Haciendas San Angel, NAY</option>
            <option>‚öíÔ∏è Fracc. La Joya / Los Mangos, NAY</option>
            <option>‚öíÔ∏è Fracc. La Mision, NAY</option>
            <option>‚öíÔ∏è Fracc. Jardin De Las Arboledas, NAY</option>
            <option>‚öíÔ∏è Fracc. Los Anhelos, NAY</option>
            <option>‚öíÔ∏è Fracc. Palma Real, NAY</option>
            <option>‚öíÔ∏è Fracc. Parque Central, NAY</option>
            <option>‚öíÔ∏è Fracc. Primavera Residencial, NAY</option>
            <option>‚öíÔ∏è Fracc. Valle Dorado, NAY</option>
            <option>‚öíÔ∏è Fracc. Valle Esmeralda, NAY</option>
            <option>‚öíÔ∏è Fracc. Valle Marlin, NAY</option>
            <option>‚öíÔ∏è Fracc. Zafiro Residencial, NAY</option>
          </select>
          <div class="status" id="i_coloniaStatus" style="margin-top:6px">Sin colonia seleccionada</div>
        </div>

        <div class="col-6">
          <label for="i_nombre">Nombre completo</label>
          <input id="i_nombre" name="nombre" placeholder="Tu nombre" required autocomplete="name" />
        </div>

        <div class="col-6">
          <label for="i_telefono">Tel√©fono</label>
          <input
            id="i_telefono"
            name="telefono"
            inputmode="numeric"
            autocomplete="tel"
            placeholder="10 d√≠gitos"
            pattern="[0-9]{10}"
            title="Debe contener exactamente 10 d√≠gitos (solo n√∫meros 0-9)"
            required
          />
        </div>

        <div class="col-12">
          <label for="i_direccion">Direcci√≥n (calle y n√∫mero)</label>
          <input id="i_direccion" name="direccion" placeholder="Ej: Calle Ju√°rez 123" required autocomplete="street-address" />
        </div>

        <div class="col-6">
          <label for="i_correo">Correo</label>
          <input id="i_correo" name="correo" type="email" placeholder="correo@ejemplo.com" required autocomplete="email" />
        </div>

        <div class="col-6">
          <label for="i_metodo">¬øC√≥mo te enteraste?</label>
          <select id="i_metodo" name="metodo" required>
            <option value="" disabled selected>Selecciona una opci√≥n</option>
            <option>Internet</option>
            <option>Volantes</option>
            <option>Recomendaci√≥n</option>
          </select>
        </div>

        <div class="col-6">
          <label for="i_plan">Plan deseado</label>
          <select id="i_plan" name="plan" required>
            <option value="" disabled selected>Selecciona un plan</option>
            <option value="Plan 300 ‚Äî 15 Mbps">Plan 300 ‚Äî 15 Mbps</option>
            <option value="Plan 400 ‚Äî 20 Mbps">Plan 400 ‚Äî 20 Mbps</option>
            <option value="Plan 600 ‚Äî 25 Mbps">Plan 600 ‚Äî 25 Mbps</option>
          </select>
        </div>

        <div class="col-6">
          <label>Ubicaci√≥n (GPS)</label>
          <div class="inline">
            <button type="button" class="btn" id="i_geoBtn">üìç Obtener ubicaci√≥n</button>
            <span id="i_geoStatus" class="status">Sin ubicaci√≥n</span>
          </div>
          <input type="hidden" id="i_lat" name="lat" />
          <input type="hidden" id="i_lng" name="lng" />
        </div>

        <div class="col-12">
          <button type="submit" class="btn btn-primary" id="i_sendBtn">üì® Enviar informaci√≥n</button>
        </div>
      </form>

      <div class="footer">
        <span>¬© <span class="year"></span> Airconekta</span>
        <span style="opacity:.85">Gracias por elegir un servicio local</span>
      </div>
    </section>

    <!-- ===== CAMBIO ===== -->
    <section class="card" data-view="cambio" id="viewCambio">
      <div class="top-actions">
        <div>
          <h1>Solicitar cambio de domicilio</h1>
          <p class="lead">Al finalizar se abrir√° WhatsApp con tu informaci√≥n lista para enviar.</p>
        </div>
        <button class="btn btn-ghost" type="button" data-back>‚Üê Volver</button>
      </div>

      <form id="formCambio" class="grid" novalidate>
        <div class="col-12">
          <label for="c_nombre">Nombre completo</label>
          <input id="c_nombre" name="nombre" placeholder="Tu nombre" required autocomplete="name" />
        </div>

        <div class="col-6">
          <label for="c_telefono">Tel√©fono de contacto</label>
          <input
            id="c_telefono"
            name="telefono"
            inputmode="numeric"
            autocomplete="tel"
            placeholder="10 d√≠gitos"
            pattern="[0-9]{10}"
            title="Debe contener exactamente 10 d√≠gitos (solo n√∫meros 0-9)"
            required
          />
        </div>

        <div class="col-6">
          <label for="c_fecha">Fecha en la que nos puede recibir</label>
          <input id="c_fecha" name="fecha" type="date" required />
        </div>

        <div class="col-6">
          <label for="c_hora">Hora en la que nos puede recibir</label>
          <input id="c_hora" name="hora" type="time" required />
        </div>

        <div class="col-12">
          <label for="c_domicilioActual">Domicilio actual completo</label>
          <textarea id="c_domicilioActual" name="domicilioActual" rows="3" placeholder="Calle, n√∫mero, colonia, ciudad, CP" required></textarea>
        </div>

        <div class="col-12">
          <label for="c_domicilioNuevo">Nuevo domicilio completo</label>
          <textarea id="c_domicilioNuevo" name="domicilioNuevo" rows="3" placeholder="Calle, n√∫mero, colonia, ciudad, CP" required></textarea>
        </div>

        <div class="col-12">
          <label for="c_comentarios">Comentarios adicionales (opcional)</label>
          <textarea id="c_comentarios" name="comentarios" rows="3" placeholder="Referencias, detalles de acceso, etc. (opcional)"></textarea>
        </div>

        <div class="col-12">
          <button type="submit" class="btn btn-primary">üì® Enviar solicitud por WhatsApp</button>
        </div>
      </form>

      <div class="footer">
        <span>¬© <span class="year"></span> Airconekta</span>
        <span style="opacity:.85">Atenci√≥n local y directa</span>
      </div>
    </section>

    <!-- ===== CANCELACI√ìN ===== -->
    <section class="card" data-view="cancelacion" id="viewCancelacion">
      <div class="top-actions">
        <div>
          <h1>Solicitar cancelaci√≥n</h1>
          <p class="lead">Al finalizar se abrir√° WhatsApp con tu informaci√≥n lista para enviar.</p>
        </div>
        <button class="btn btn-ghost" type="button" data-back>‚Üê Volver</button>
      </div>

      <form id="formCancelacion" class="grid" novalidate>
        <div class="col-12">
          <label for="x_nombre">Nombre completo</label>
          <input id="x_nombre" name="nombre" placeholder="Tu nombre" required autocomplete="name" />
        </div>

        <div class="col-6">
          <label for="x_telefono">Tel√©fono de contacto</label>
          <input
            id="x_telefono"
            name="telefono"
            inputmode="numeric"
            autocomplete="tel"
            placeholder="10 d√≠gitos"
            pattern="[0-9]{10}"
            title="Debe contener exactamente 10 d√≠gitos (solo n√∫meros 0-9)"
            required
          />
        </div>

        <div class="col-6">
          <label for="x_fecha">Fecha en la que nos puede recibir</label>
          <input id="x_fecha" name="fecha" type="date" required />
        </div>

        <div class="col-6">
          <label for="x_hora">Hora en la que nos puede recibir</label>
          <input id="x_hora" name="hora" type="time" required />
        </div>

        <div class="col-12">
          <label for="x_domicilio">Domicilio completo del servicio</label>
          <textarea id="x_domicilio" name="domicilio" rows="3" placeholder="Calle, n√∫mero, colonia, ciudad, CP" required></textarea>
        </div>

        <div class="col-12">
          <label for="x_motivo">Motivo de cancelaci√≥n (opcional)</label>
          <textarea id="x_motivo" name="motivo" rows="3" placeholder="Cu√©ntanos brevemente el motivo (opcional)"></textarea>
        </div>

        <div class="col-12">
          <button type="submit" class="btn btn-primary">üì® Enviar solicitud por WhatsApp</button>
        </div>
      </form>

      <div class="footer">
        <span>¬© <span class="year"></span> Airconekta</span>
        <span style="opacity:.85">Gracias por tu tiempo</span>
      </div>
    </section>
  </div>

  <div id="toast" class="toast" role="status" aria-live="polite"></div>

  <script>
    // =====================
    // CONFIGURACI√ìN
    // =====================
    const NUMERO_DESTINO = "5213222108817";

    // LOGOS (por si quieres reusarlos en JS)
    const LOGO_1024 = "https://raw.githubusercontent.com/airconekta/airconekta/refs/heads/main/airconekta_logo_1024.png";
    const LOGO_512 = "https://raw.githubusercontent.com/airconekta/airconekta/refs/heads/main/airconekta_logo_512.png";
    const LOGO_TRANS = "https://raw.githubusercontent.com/airconekta/airconekta/refs/heads/main/airconekta_logo_transparent.png";

    const $ = (sel) => document.querySelector(sel);
    const $$ = (sel) => Array.from(document.querySelectorAll(sel));

    const toast = (msg) => {
      const t = $("#toast");
      t.textContent = msg;
      t.classList.add("show");
      setTimeout(() => t.classList.remove("show"), 1800);
    };

    // ==========================================================
    // FIRMA / WHOAMI (solo para consola / depuraci√≥n)
    // - No se muestra en el dashboard
    // - Se ve al inspeccionar c√≥digo fuente (comentario en <head>)
    // - Tambi√©n se imprime en consola:
    //   - siempre al cargar (suave)
    //   - y "modo expl√≠cito" si URL termina en #whoami
    // ==========================================================
    const DEV_SIGNATURE = {
      name: "Jair Elizondo",
      phone: "322 243 9782",
      hint: "Solicita algun sitio o funcion web",
      hash: "#whoami",
    };

    function printWhoAmI({ loud = false } = {}) {
      const lines = [
        "‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ",
        `üë§ ${DEV_SIGNATURE.name}`,
        `üìû ${DEV_SIGNATURE.phone}`,
        `üß© ${DEV_SIGNATURE.hint}`,
        `üîé Tip: agrega ${DEV_SIGNATURE.hash} a la URL`,
        "‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ",
      ];

      if (loud) {
        console.group("%cwhoami", "font-weight:900;");
        lines.forEach((l) => console.log(l));
        console.groupEnd();
      } else {
        // ‚Äúsuave‚Äù: no molesta, pero queda visible en consola
        console.log(
          `%c${DEV_SIGNATURE.name}%c ¬∑ ${DEV_SIGNATURE.phone} ¬∑ ${DEV_SIGNATURE.hint}`,
          "font-weight:900;",
          "font-weight:600; opacity:.85;"
        );
      }
    }

    // Siempre deja una firma ‚Äúsuave‚Äù
    printWhoAmI({ loud: false });

    // Si ponen #whoami, imprime modo ‚Äúexpl√≠cito‚Äù
    function checkHashForWhoami() {
      const h = (location.hash || "").toLowerCase();
      if (h === DEV_SIGNATURE.hash) {
        printWhoAmI({ loud: true });
      }
    }
    window.addEventListener("hashchange", checkHashForWhoami, { passive: true });
    checkHashForWhoami();

    // =====================
    // Splash (3s)
    // =====================
    const splash = document.getElementById("splash");
    const hideSplash = () => splash?.classList.add("hide");
    splash?.addEventListener("click", hideSplash, { passive: true });
    window.addEventListener("load", () => {
      setTimeout(hideSplash, 3000);
    });

    // =====================
    // A√±o
    // =====================
    $("#year").textContent = new Date().getFullYear();
    $$(".year").forEach((el) => (el.textContent = new Date().getFullYear()));

    // =====================
    // Tema (Light/Dark)
    // =====================
    const THEME_KEY = "airconekta_theme";

    function applyTheme(theme) {
      document.documentElement.setAttribute("data-theme", theme);
      localStorage.setItem(THEME_KEY, theme);

      const icon = theme === "dark" ? "üåô" : "‚òÄÔ∏è";
      $("#themeBtn").textContent = icon;
      $("#themeBtn").setAttribute(
        "aria-label",
        theme === "dark" ? "Cambiar a tema claro" : "Cambiar a tema oscuro"
      );
    }

    const savedTheme = localStorage.getItem(THEME_KEY);
    if (savedTheme) {
      applyTheme(savedTheme);
    } else {
      const prefersDark = window.matchMedia && window.matchMedia("(prefers-color-scheme: dark)").matches;
      applyTheme(prefersDark ? "dark" : "light");
    }

    $("#themeBtn").addEventListener("click", () => {
      const current = document.documentElement.getAttribute("data-theme") || "light";
      applyTheme(current === "dark" ? "light" : "dark");
      toast("Tema actualizado ‚úÖ");
    });

    // =====================
    // NAVEGACI√ìN DE VISTAS
    // =====================
    const VIEW_KEY = "airconekta_last_view";

    function showView(name) {
      $$("[data-view]").forEach((v) => v.classList.remove("active"));
      const view = document.querySelector(`[data-view="${name}"]`);
      if (view) view.classList.add("active");

      sessionStorage.setItem(VIEW_KEY, name);

      try {
        window.scrollTo({ top: 0, behavior: "smooth" });
      } catch {
        window.scrollTo(0, 0);
      }
    }

    $("#menuBtn").addEventListener("click", () => {
      showView("home");
      toast("Opciones listas ‚úÖ");
    });

    $$("[data-go]").forEach((btn) => {
      btn.addEventListener("click", () => {
        const v = btn.getAttribute("data-go");
        showView(v);

        setTimeout(() => {
          const firstInput = document.querySelector(
            `[data-view="${v}"] input, [data-view="${v}"] select, [data-view="${v}"] textarea`
          );
          firstInput?.focus?.();
        }, 60);
      });
    });

    $$("[data-back]").forEach((b) => b.addEventListener("click", () => showView("home")));

    // =====================
    // COMPARTIR
    // =====================
    $("#shareBtn").addEventListener("click", async (e) => {
      e.preventDefault();

      if (navigator.share) {
        try {
          await navigator.share({
            title: "Airconekta ¬∑ Centro de Solicitudes",
            text: "Instalaci√≥n, Cambio de domicilio y Cancelaci√≥n (WhatsApp listo)",
            url: location.href,
          });
        } catch {
          /* cancelado */
        }
      } else {
        try {
          await navigator.clipboard?.writeText(location.href);
          toast("Enlace copiado ‚úÖ");
        } catch {
          toast("Copia el enlace desde la barra del navegador");
        }
      }
    });

    // =====================
    // INSTALACI√ìN: colonia + geolocalizaci√≥n + env√≠o
    // =====================
    const i_coloniaSelect = $("#i_coloniaSelect");
    const i_coloniaHidden = $("#i_colonia");
    const i_coloniaStatus = $("#i_coloniaStatus");

    function setInstalacionColonia(val) {
      i_coloniaHidden.value = val || "";
      i_coloniaStatus.textContent = val ? `Colonia: ${val}` : "Sin colonia seleccionada";
    }

    i_coloniaSelect.addEventListener("change", () => setInstalacionColonia(i_coloniaSelect.value));

    $("#i_geoBtn").addEventListener("click", () => {
      const s = $("#i_geoStatus");

      if (!("geolocation" in navigator)) {
        s.textContent = "Geolocalizaci√≥n no soportada";
        toast("Tu navegador no soporta ubicaci√≥n");
        return;
      }

      s.textContent = "Obteniendo ubicaci√≥n‚Ä¶";

      navigator.geolocation.getCurrentPosition(
        (pos) => {
          const { latitude, longitude } = pos.coords;
          $("#i_lat").value = latitude.toFixed(6);
          $("#i_lng").value = longitude.toFixed(6);
          s.textContent = `Lat ${$("#i_lat").value}, Lng ${$("#i_lng").value}`;
          toast("Ubicaci√≥n lista ‚úÖ");
        },
        (err) => {
          console.warn(err);
          s.textContent = "No se pudo obtener ubicaci√≥n";
          toast("No se pudo obtener ubicaci√≥n");
        },
        { enableHighAccuracy: true, timeout: 12000, maximumAge: 0 }
      );
    });

    function digits10FromInput(inputSel) {
      const el = $(inputSel);
      const raw = (el.value || "").replace(/\D+/g, "");
      if (raw && raw !== el.value) el.value = raw;
      return raw.length === 10 ? raw : null;
    }

    function abrirWhatsApp(mensaje) {
      const url =
        `https://api.whatsapp.com/send?phone=${NUMERO_DESTINO}` +
        `&text=${encodeURIComponent(mensaje)}` +
        `&type=phone_number&app_absent=0`;

      window.open(url, "_blank", "noopener,noreferrer");
      toast("Abriendo WhatsApp‚Ä¶");
    }

    $("#formInstalacion").addEventListener("submit", (e) => {
      e.preventDefault();

      const form = $("#formInstalacion");
      if (!form.checkValidity()) {
        form.reportValidity();
        return;
      }

      const tel10 = digits10FromInput("#i_telefono");
      if (!tel10) {
        toast("El tel√©fono debe tener 10 d√≠gitos");
        $("#i_telefono").focus();
        return;
      }

      const nombre = $("#i_nombre").value.trim();
      const direccion = $("#i_direccion").value.trim();
      const plan = $("#i_plan").value;
      const tel = tel10;
      const correo = $("#i_correo").value.trim();
      const metodo = $("#i_metodo").value;
      const colonia = (i_coloniaHidden.value || "").trim();
      const lat = $("#i_lat").value;
      const lng = $("#i_lng").value;

      let msg = "Hola üëã\nMe gustar√≠a hablar sobre la contrataci√≥n de servicio.\n\n";
      msg += "*Tipo de solicitud:* Instalaci√≥n\n";
      msg += `*Nombre:* ${nombre}\n`;
      msg += `*Direcci√≥n:* ${direccion}${colonia ? `, ${colonia}` : ""}\n`;
      msg += `*Plan deseado:* ${plan}\n`;
      msg += `*Tel√©fono:* ${tel}\n`;
      msg += `*Correo:* ${correo}\n`;
      msg += `*M√©todo de contacto:* ${metodo}\n`;
      if (lat && lng) msg += `*Ubicaci√≥n:* https://www.google.com/maps?q=${lat},${lng}\n`;

      abrirWhatsApp(msg);
    });

    // =====================
    // CAMBIO: env√≠o
    // =====================
    $("#formCambio").addEventListener("submit", (e) => {
      e.preventDefault();

      const form = $("#formCambio");
      if (!form.checkValidity()) {
        form.reportValidity();
        return;
      }

      const tel10 = digits10FromInput("#c_telefono");
      if (!tel10) {
        toast("El tel√©fono debe tener 10 d√≠gitos");
        $("#c_telefono").focus();
        return;
      }

      const nombre = $("#c_nombre").value.trim();
      const telefono = tel10;
      const fecha = $("#c_fecha").value;
      const hora = $("#c_hora").value;
      const domicilioActual = $("#c_domicilioActual").value.trim();
      const domicilioNuevo = $("#c_domicilioNuevo").value.trim();
      const comentarios = $("#c_comentarios").value.trim();

      let msg = "Hola üëã\nMe gustar√≠a solicitar un *cambio de domicilio* de mi servicio.\n\n";
      msg += "*Tipo de solicitud:* Cambio de domicilio\n";
      msg += `*Nombre:* ${nombre}\n`;
      msg += `*Tel√©fono de contacto:* ${telefono}\n`;
      msg += `*Domicilio actual:*\n${domicilioActual}\n`;
      msg += `*Nuevo domicilio:*\n${domicilioNuevo}\n`;
      msg += `*Fecha en la que me pueden recibir:* ${fecha || "No especificada"}\n`;
      msg += `*Hora en la que me pueden recibir:* ${hora || "No especificada"}\n`;
      if (comentarios) msg += `*Comentarios adicionales:*\n${comentarios}\n`;

      abrirWhatsApp(msg);
    });

    // =====================
    // CANCELACI√ìN: env√≠o
    // =====================
    $("#formCancelacion").addEventListener("submit", (e) => {
      e.preventDefault();

      const form = $("#formCancelacion");
      if (!form.checkValidity()) {
        form.reportValidity();
        return;
      }

      const tel10 = digits10FromInput("#x_telefono");
      if (!tel10) {
        toast("El tel√©fono debe tener 10 d√≠gitos");
        $("#x_telefono").focus();
        return;
      }

      const nombre = $("#x_nombre").value.trim();
      const telefono = tel10;
      const fecha = $("#x_fecha").value;
      const hora = $("#x_hora").value;
      const domicilio = $("#x_domicilio").value.trim();
      const motivo = $("#x_motivo").value.trim();

      let msg = "Hola üëã\nMe gustar√≠a solicitar la *cancelaci√≥n* de mi servicio.\n\n";
      msg += "*Tipo de solicitud:* Cancelaci√≥n\n";
      msg += `*Nombre:* ${nombre}\n`;
      msg += `*Tel√©fono de contacto:* ${telefono}\n`;
      msg += `*Domicilio completo del servicio:*\n${domicilio}\n`;
      msg += `*Fecha en la que me pueden recibir:* ${fecha || "No especificada"}\n`;
      msg += `*Hora en la que me pueden recibir:* ${hora || "No especificada"}\n`;
      if (motivo) msg += `*Motivo de cancelaci√≥n:*\n${motivo}\n`;

      abrirWhatsApp(msg);
    });

    // =====================
    // PWA (manifest + SW) simple (mejorado para GitHub Pages)
    // =====================
    const manifest = {
      name: "Airconekta Centro de Solicitudes",
      short_name: "Airconekta",
      description: "Instalaci√≥n, Cambio de domicilio y Cancelaci√≥n. Env√≠o por WhatsApp.",
      start_url: "./menu.html",
      scope: "./",
      display: "standalone",
      background_color: "#0b1220",
      theme_color: "#0b1220",
      icons: [
        { src: LOGO_512, sizes: "512x512", type: "image/png" },
        { src: LOGO_1024, sizes: "1024x1024", type: "image/png" }
      ]
    };

    const manBlob = new Blob([JSON.stringify(manifest)], { type: "application/json" });
    const manURL = URL.createObjectURL(manBlob);
    const link = document.createElement("link");
    link.rel = "manifest";
    link.href = manURL;
    document.head.appendChild(link);

    if ("serviceWorker" in navigator) {
      const swCode = `
        const CACHE = 'airconekta-centro-v3';
        const CORE = ['./', './menu.html'];

        self.addEventListener('install', (e) => {
          e.waitUntil(caches.open(CACHE).then((c) => c.addAll(CORE)));
          self.skipWaiting();
        });

        self.addEventListener('activate', (e) => {
          e.waitUntil(self.clients.claim());
        });

        self.addEventListener('fetch', (e) => {
          const req = e.request;
          if (req.method !== 'GET') return;

          e.respondWith(
            caches.match(req).then((r) => r || fetch(req).then((res) => {
              const copy = res.clone();
              caches.open(CACHE).then((c) => c.put(req, copy)).catch(() => {});
              return res;
            }).catch(() => caches.match('./menu.html')))
          );
        });
      `;

      const swBlob = new Blob([swCode], { type: "text/javascript" });
      const swURL = URL.createObjectURL(swBlob);
      navigator.serviceWorker.register(swURL).catch(() => {});
    }

    // Bot√≥n instalar PWA (si aplica)
    let deferredPrompt;

    window.addEventListener("beforeinstallprompt", (e) => {
      e.preventDefault();
      deferredPrompt = e;

      const btn = document.getElementById("installBtn");
      btn.style.display = "inline-flex";

      btn.onclick = async () => {
        btn.disabled = true;
        try {
          await deferredPrompt.prompt();
          await deferredPrompt.userChoice;
        } finally {
          deferredPrompt = null;
          btn.style.display = "none";
        }
      };
    });

    // Vista inicial
    const last = sessionStorage.getItem(VIEW_KEY);
    showView(last || "home");
  </script>
</body>
</html>
